@import url("https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap");

.post-hero {
  display: flex;
  flex-direction: column-reverse;

  &__main {
    width: 95%;
    margin: 0 auto;
  }

  &__thumbnail {
    background-image: url("/wp-content/themes/eureka/assets/images/img-post-key-sp.png");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    padding-top: 64.69%;
    position: relative;
  }

  &__thumbnail-inner {
    text-align: center;
    width: 65%;
    margin: auto;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
}

.post-title {
  font-size: fz(24);
  margin-top: 0.5em;
}

.post-date {
  font-size: fz(12);
  text-align: right;
  margin-top: 0.75em;

  &__inner {
    position: relative;
    padding-left: 2em;
    display: inline-block;
  }

  &__inner + &__inner {
    margin-left: 1em;
  }
}

.post-date-title {
  display: inline-block;
  width: 1.5em;
  padding-top: 1.5em;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1sYWJlbGxlZGJ5PSJ0aXRsZSIKYXJpYS1kZXNjcmliZWRieT0iZGVzYyIgcm9sZT0iaW1nIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgPHRpdGxlPkZvdW50YWluIFBlbjwvdGl0bGU+CiAgPGRlc2M+QSBsaW5lIHN0eWxlZCBpY29uIGZyb20gT3Jpb24gSWNvbiBMaWJyYXJ5LjwvZGVzYz4KICA8cGF0aCBkYXRhLW5hbWU9ImxheWVyMiIKICBkPSJNMjcuNCAxNy45TDQxLjYgMy43YTUuNCA1LjQgMCAwIDEgNy42IDBMNTEgNS42TTE0LjU0IDQyLjE0OGwyMy42MTctMjMuNjE3IDcuNzc4IDcuNzc4LTIzLjYxNyAyMy42MTd6IgogIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzBkMGQwZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lam9pbj0icm91bmQiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48L3BhdGg+CiAgPHBhdGggZGF0YS1uYW1lPSJsYXllcjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzBkMGQwZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIgogIHN0cm9rZS13aWR0aD0iMiIgZD0iTTQ1LjkgMjYuM2wxNS41LTE1LjVMNTMuNiAzIDM4LjEgMTguNSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIKICBzdHJva2UtbGluZWNhcD0icm91bmQiPjwvcGF0aD4KICA8cGF0aCBkYXRhLW5hbWU9ImxheWVyMSIgZD0iTTIuNiA2MS44czcuNC0uOSAxMS44LTIuOWE2LjkgNi45IDAgMCAwIDEuOS0xbC43LS42YTcgNyAwIDEgMC05LjktOS45bC0uNi43YTYuOSA2LjkgMCAwIDAtMS4xIDIuMWMtMS45IDQuNC0yLjggMTEuNi0yLjggMTEuNnptOC4xLTguMWwtOC4xIDguMSIKICBmaWxsPSJub25lIiBzdHJva2U9IiMwZDBkMGQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIgogIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PC9wYXRoPgo8L3N2Zz4=);
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
}

.post-update-title {
  display: inline-block;
  width: 1.5em;
  padding-top: 1.5em;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1sYWJlbGxlZGJ5PSJ0aXRsZSIKYXJpYS1kZXNjcmliZWRieT0iZGVzYyIgcm9sZT0iaW1nIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgPHRpdGxlPlJlbG9hZDwvdGl0bGU+CiAgPGRlc2M+QSBsaW5lIHN0eWxlZCBpY29uIGZyb20gT3Jpb24gSWNvbiBMaWJyYXJ5LjwvZGVzYz4KICA8cGF0aCBkYXRhLW5hbWU9ImxheWVyMSIKICBkPSJNNTQuNzQxIDI4LjE0YTIzLjAwMiAyMy4wMDIgMCAwIDEtMzkuMDg4IDE5LjEyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMGQwZDBkIgogIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiPjwvcGF0aD4KICA8cGF0aCBkYXRhLW5hbWU9ImxheWVyMiIgZD0iTTkuMDY1IDMzLjYyQTIzLjAwOCAyMy4wMDggMCAwIDEgMzEuOTE3IDhhMjIuOTM0IDIyLjkzNCAwIDAgMSAxNi4yNjIgNi43MzIiCiAgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMGQwZDBkIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIKICBzdHJva2UtbGluZWNhcD0icm91bmQiPjwvcGF0aD4KICA8cGF0aCBkYXRhLW5hbWU9ImxheWVyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMGQwZDBkIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiCiAgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMiAyNGw3LjA2NSA5LjYxOUwxOCAyNiIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj48L3BhdGg+CiAgPHBhdGggZGF0YS1uYW1lPSJsYXllcjEiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzBkMGQwZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIgogIHN0cm9rZS13aWR0aD0iMiIgZD0iTTYyIDM4bC03LjI1OS05Ljg2TDQ2IDM2IiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiPjwvcGF0aD4KPC9zdmc+);
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
}

.post {
  margin-top: 3em;
}

.post-content {
  padding-bottom: 3em;

  h2 {
    font-size: fz(26);
    background-color: $color-navy;
    color: $color-white;
    padding: em(26, 8) em(26, 16);
    margin: em(26, 56) 0 em(26, 24);
  }

  h3 {
    color: $color-navy;
    font-size: fz(24);
    margin: em(24, 50) 0 em(24, 24);
    border-left: 5px solid;
    padding-left: 0.5em;
  }

  h4 {
    color: $color-navy;
    font-size: fz(20);
    margin: em(20, 42) 0 em(20, 24);
  }

  a {
    display: inline-block;

    &:hover {
      color: $color-yellow;
    }
  }

  p,
  ul,
  ol,
  figure,
  blockquote,
  table,
  .wp-block-image {
    margin-bottom: 1.5em;
  }

  figcaption {
    font-size: fz(14);
    text-align: center;
  }

  blockquote {
    position: relative;
    padding: 40px 10px 10px 15px;
    box-sizing: border-box;
    font-style: italic;
    color: #464646;
    background: $color-gray;

    &:before {
      content: "â€œ";
      display: inline-block;
      position: absolute;
      top: 10px;
      left: 0px;
      font-family: sans-serif;
      color: $color-white;
      font-size: 90px;
      line-height: 1;
    }

    p {
      padding: 0;
      margin: 10px 0;
      line-height: 1.7;
    }

    cite {
      display: block;
      text-align: right;
      color: #888888;
      font-size: 0.9em;
    }
  }

  ul {
    > li {
      position: relative;
      padding-left: 1em;

      &:before {
        content: "";
        display: inline-block;
        width: 0.5em;
        height: 0.5em;
        background-color: $color-navy;
        position: absolute;
        left: 0;
        top: 0.5em;
      }

      > a {
        padding: 0;

        &::before {
          content: none;
        }
      }
    }
  }

  ol {
    counter-reset: li;

    > li {
      position: relative;
      padding-left: 1.75em;
      font-size: 0.9em;

      &::after {
        counter-increment: li;
        content: counter(li);
        position: absolute;
        left: 0;
        top: 1px;
        color: $color-white;
        background: $color-navy;
        display: inline-block;
        font-size: fz(14);
        width: 1.25em;
        height: 1.25em;
        line-height: 1.25em;
        text-align: center;
        border-radius: 50%;
      }

      > a {
        padding: 0;

        &::before {
          content: none;
        }
      }
    }
  }

  table {
    border-collapse: collapse;
    border: 2px solid $color-navy;

    th,
    td {
      border: 1px solid $color-navy;
      line-height: 1.5;
      padding: 0.5em 0.75em;
    }

    thead {
      color: $color-white;
      background-color: $color-navy;
      font-weight: bold;

      th {
        border: 1px solid $color-white;
      }
    }

    tbody {
      tr {
        &:nth-child(even) {
          background-color: $color-gray;
        }
      }
    }
  }

  code {
    padding: 2px;
    margin: 0 4px;
    border-radius: 2px;
    background: #f3f4f5;
    font-size: inherit;
    font-family: "Source Code Pro", monospace;
  }

  .prism {
    code {
      padding: 0;
      margin: 0;
    }
  }
}

.post-conversation {
  margin-bottom: 2em;

  &__inner {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;

    &.mine {
      flex-direction: row-reverse;

      .balloon {
        &::before {
          border-top: 8px solid transparent;
          border-left: 20px solid $color-gray;
          border-bottom: 8px solid transparent;
          right: -1em;
        }
      }
    }

    &.other {
      .balloon {
        &::before {
          border-top: 8px solid transparent;
          border-right: 20px solid $color-gray;
          border-bottom: 8px solid transparent;
          left: -1em;
        }
      }
    }
  }

  .person {
    width: 64px;
  }

  .balloon {
    font-size: fz(14);
    width: calc(100% - 64px - 2em);
    background-color: $color-gray;
    padding: 0.75em 1em;
    border-radius: 5px;
    position: relative;

    &::before {
      content: "";
      display: inline-block;
      position: absolute;
      top: 1em;
    }
  }

  &__inner + &__inner {
    margin-top: 1em;
  }
}

.post-breadcrumb {
  color: #666;

  li {
    display: inline-block;
    font-size: fz(14);
    margin-right: 0.25em;

    &:last-of-type {
      margin-left: 0.75em;

      &::after {
        display: none;
      }
    }
  }

  a {
    text-decoration: none;
    color: inherit;

    &:hover {
      text-decoration: underline;
    }
  }
}

.breadcrumb-wrapper {
  padding-top: 1.5em;
  border-top: 1px solid #ccc;
}

.n404 {
  .page-main-title {
    font-family: "Ubuntu";
    margin-bottom: 1em;
  }
}

.single-page {
  .main-content {
    margin-left: auto;
    margin-right: auto;
  }
}

@include lap {
  .post-hero {
    display: block;
    max-width: 1140px;
    padding: 0 1em;
    margin-left: auto;
    margin-right: auto;
    position: relative;
    box-sizing: content-box;

    &__main {
      width: 37.72%;
      position: absolute;
      right: 1em;
      top: 50%;
      transform: translateY(-50%);
      z-index: 2;
    }

    &__thumbnail {
      max-width: 720px;
      padding-top: 35%;
      background-image: url("/wp-content/themes/eureka/assets/images/img-post-key.png");
    }

    .tag-list {
      margin-top: 1.5em;
    }
  }

  .post {
    margin-top: 0;
  }

  .post-content {
    padding: 0 1em 3em;

    pre {
      margin: 1.5em 0;
    }
  }

  .post-conversation {
    &__inner {
      justify-content: flex-start;

      &.mine {
        .balloon {
          margin-right: 2.25em;
        }
      }

      &.other {
        .balloon {
          margin-left: 2.25em;
        }
      }
    }

    .person {
      width: 80px;
    }

    .balloon {
      max-width: 504px;
    }

    &__inner + &__inner {
      margin-top: 1.5em;
    }
  }
}
